(this["webpackJsonpyoks-webapp"]=this["webpackJsonpyoks-webapp"]||[]).push([[0],{131:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r(2),a=r.n(s),c=r(23),o=r.n(c),i=(r(72),r(73),r(20)),l=r(15),d=r(11),u=r(24),j=r(9),b="GO_TO_LOGIN",h="GO_TO_SIGNUP",p="GO_TO_HOME",g="GO_TO_LOADING",O="LOG_IN_START",y="LOG_IN_SUCCESS",f="LOG_IN_ERROR",x="SIGN_UP_START",m="SIGN_UP_SUCCESS",v="SIGN_UP_ERROR",k="LOG_OUT_START",C="LOG_OUT_SUCCESS",S="LOG_OUT_ERROR",E="VALIDATE_TOKEN_SUCCESS",_="VALIDATE_TOKEN_ERROR",T="CHANGE_PASSWORD_START",L="CHANGE_PASSWORD_SUCCESS",A="CHANGE_PASSWORD_ERROR",R="FORGOT_PASSWORD_START",w="FORGOT_PASSWORD_SUCCESS",I="FORGOT_PASSWORD_ERROR",B="GET_PROFILE_START",N="GET_PROFILE_SUCCESS",P="GET_PROFILE_ERROR",G="UPDATE_LICENSE_START",U="UPDATE_LICENSE_SUCCESS",D="UPDATE_LICENSE_ERROR",W="GET_BOOKINGS_START",F="GET_BOOKINGS_SUCCESS",H="GET_BOOKINGS_ERROR",z="GET_BOOKING_START",Y="GET_BOOKING_SUCCESS",V="GET_BOOKING_ERROR",K="SAVE_BOOKING_START",M="SAVE_BOOKING_SUCCESS",q="SAVE_BOOKING_ERROR",X="GET_AVAILABLE_CARS_START",Z="GET_AVAILABLE_CARS_SUCCESS",J="GET_AVAILABLE_CARS_ERROR",$="UPDATE_SAVE_BOOKING",Q="RESET_SAVE_BOOKING",ee="GET_SERVICES_START",te="GET_SERVICES_SUCCESS",re="GET_SERVICES_ERROR",ne="MAKE_PAYMENT_START",se="MAKE_PAYMENT_SUCCESS",ae="MAKE_PAYMENT_ERROR",ce={ACTION_TYPE:"",isLoginLoading:!1,isSignUpLoading:!1,isLogOutLoading:!1,isChangePasswordLoading:!1,isForgotPasswordLoading:!1,loginError:"",signUpError:"",logOutError:"",changePasswordError:"",forgotPasswordError:"",customer_id:"",token:"",customer:{}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0,r=Object(j.a)({},e);switch(r.ACTION_TYPE=t.type,t.type){case O:return r.isLoginLoading=!0,r.loginError="",r.customer={},r;case y:case E:return r.isLoginLoading=!1,r.loginError="",r.customer=t.customer,r.customer_id=t.customer.id,r.token=t.token,r;case f:case _:return r.isLoginLoading=!1,r.loginError=t.error,r;case x:return r.isSignUpLoading=!0,r.signUpError="",r;case m:case v:return r.isSignUpLoading=!1,r.signUpError=t.error,r;case k:return r.isLogOutLoading=!0,r;case C:case S:return r.isLogOutLoading=!1,r;case T:return r.isChangePasswordLoading=!0,r;case L:case A:return r.isChangePasswordLoading=!1,r.changePasswordError=t.error,r;case R:return r.isForgotPasswordLoading=!0,r;case w:case I:return r.isForgotPasswordLoading=!1,r.forgotPasswordError=t.error,r;default:return r}},ie={ACTION_TYPE:"",isGetProfileLoading:!1,isUpdateLicenseLoading:!1,getProfileError:"",updateLicenseError:"",customer:{}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0,r=Object(j.a)({},e);switch(r.ACTION_TYPE=t.type,t.type){case B:return r.isGetProfileLoading=!0,r.getProfileError="",r;case N:return r.isGetProfileLoading=!1,r.getProfileError="",r.customer=t.customer,r;case P:return r.isGetProfileLoading=!1,r.getProfileError=t.error,r;case G:return r.isUpdateLicenseLoading=!0,r.updateLicenseError="",r;case U:case D:return r.isUpdateLicenseLoading=!1,r.updateLicenseError=t.error,r;default:return r}},de={ACTION_TYPE:"",isBookingsLoading:!1,isBookingLoading:!1,isSaveBookingLoading:!1,getBookingsError:"",getBookingError:"",saveBookingError:"",bookings:[],booking:{},cardetails:{},saveBooking:{},bookingId:""},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0,r=Object(j.a)({},e);switch(r.ACTION_TYPE=t.type,t.type){case W:return r.isBookingsLoading=!0,r.getBookingsError="",r;case F:return r.isBookingsLoading=!1,r.getBookingsError="",r.bookings=t.bookings,r;case H:return r.isBookingsLoading=!1,r.getBookingsError=t.error,r;case z:return r.isBookingLoading=!0,r.getBookingError="",r;case Y:return r.isBookingLoading=!1,r.getBookingError=t.error,r.booking=t.booking,r.cardetails=t.cardetails,r;case V:return r.isBookingLoading=!1,r.getBookingError=t.error,r;case K:return r.isSaveBookingLoading=!0,r.saveBookingError="",r.bookingId="",r;case M:return r.isSaveBookingLoading=!1,r.saveBookingError="BOOKING SUCCESSFULL...",r.bookingId=t.bookingId,r;case q:return r.isSaveBookingLoading=!1,r.saveBookingError=t.error,r;case $:return t.firstname&&(r.saveBooking.firstname=t.firstname),t.lastname&&(r.saveBooking.lastname=t.lastname),t.email&&(r.saveBooking.email=t.email),t.phone&&(r.saveBooking.phone=t.phone),t.ctype&&(r.saveBooking.ctype=t.ctype),t.customer&&(r.saveBooking.customer=t.customer),t.rtype&&(r.saveBooking.rtype=t.rtype),t.stype&&(r.saveBooking.stype=t.stype),t.starttime&&(r.saveBooking.starttime=t.starttime),t.endtime&&(r.saveBooking.endtime=t.endtime),t.pickup&&(r.saveBooking.pickup=t.pickup),t.pickupgps&&(r.saveBooking.pickupgps=t.pickupgps),t.dropoff&&(r.saveBooking.dropoff=t.dropoff),t.dropoffgps&&(r.saveBooking.dropoffgps=t.dropoffgps),t.distance&&(r.saveBooking.distance=t.distance),t.hours&&(r.saveBooking.hours=t.hours),t.comments&&(r.saveBooking.comments=t.comments),t.total_amt&&(r.saveBooking.total_amt=t.total_amt),t.ccars&&(r.saveBooking.ccars=t.ccars),console.log("------------------CURRENT SAVE BOOKING STATE------------------"),console.log(r.saveBooking),r;case Q:r.saveBooking={};default:return r}},je={isLoading:!1,isLoggedIn:!1,isLoggedOut:!1,isNewUser:!1},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0,r=Object(j.a)({},e);switch(t.type){case g:return r.isLoading=!0,r.isLoggedIn=!1,r.isLoggedOut=!1,r.isNewUser=!1,r;case b:return r.isLoading=!1,r.isLoggedIn=!1,r.isLoggedOut=!1,r.isNewUser=!1,r;case h:return r.isLoading=!1,r.isLoggedIn=!1,r.isLoggedOut=!1,r.isNewUser=!0,r;case p:return r.isLoggedIn=!0,r.isLoading=!1,r.isLoggedOut=!1,r.isNewUser=!1,r;default:return r}},he={isGetServicesLoading:!1,getServicesError:"",services:[]},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0,r=Object(j.a)({},e);switch(t.type){case ee:return r.isGetServicesLoading=!0,r.getServicesError="",r;case te:return r.isGetServicesLoading=!1,r.getServicesError="",r.services=t.services,r;case re:return r.isGetServicesLoading=!1,r.getServicesError=t.error,r;default:return r}},ge={isAvailableCarsLoading:!1,availableCarsError:"",categories:[],vehicles:[]},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0,r=Object(j.a)({},e);switch(t.type){case X:return r.isAvailableCarsLoading=!0,r.availableCarsError="",r.categories=[],r.vehicles=[],r;case Z:return r.isAvailableCarsLoading=!1,r.availableCarsError="",r.categories=t.categories,r.vehicles=t.vehicles,r;case J:return r.isAvailableCarsLoading=!1,r.availableCarsError=t.error,r;default:return r}},ye={ACTION_TYPE:"",isMakePaymentLoading:!1,makePaymentError:"",payToken:"",payTokenUrl:"https://app.slydepay.com/paylive/detailsnew.aspx?pay_token={pay_Token}",paymentCode:"",qrCodeUrl:""},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0,r=Object(j.a)({},e);switch(t.type){case ne:return r.isMakePaymentLoading=!0,r.makePaymentError="",r.payToken="",r.payTokenUrl="",r.paymentCode="",r.qrCodeUrl="",r.ACTION_TYPE=t.type,r;case se:return r.isMakePaymentLoading=!1,r.makePaymentError="",r.payToken=t.payToken,r.paymentCode=t.paymentCode,r.qrCodeUrl=t.qrCodeUrl,r.payTokenUrl="https://app.slydepay.com/paylive/detailsnew.aspx?pay_token=".concat(t.payToken),r.ACTION_TYPE=t.type,r;case ae:return r.isMakePaymentLoading=!1,r.makePaymentError=t.error,r.ACTION_TYPE=t.type,r;default:return r}},xe=Object(u.c)({authenticate:oe,profile:le,booking:ue,navigation:be,service:pe,availableCars:Oe,payment:fe}),me=r(63),ve=r(45),ke=r(64),Ce={key:"root",storage:r.n(ke).a},Se=Object(ve.a)(Ce,xe),Ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,_e=Object(u.e)(Se,{},Ee(Object(u.a)(me.a))),Te=Object(ve.b)(_e),Le=_e,Ae=r(65),Re=r(8),we=r(14),Ie=r(132),Be=r(133),Ne=r(134),Pe=r(135),Ge=r(136),Ue=r(137),De=r(138),We=r.p+"static/media/appstore.e10f4bc7.svg",Fe=r.p+"static/media/car1.f4cb470e.svg",He=r.p+"static/media/playstore.0ff2c1e7.svg",ze=r.p+"static/media/waradrive.85dc64d8.svg",Ye=r(13),Ve=r.n(Ye),Ke=r(17),Me=function(e){return{type:f,error:e}},qe=function(e){return{type:v,error:e}},Xe=function(e){return{type:A,error:e}},Ze="https://yoksghana.com/fms",Je={fmsApi:Ze,slydePayMerchantApi:"https://app.slydepay.com.gh/api/merchant/invoice",AUTHENTICATE_CUSTOMER_URL:"https://yoksghana.com/fms/CustomerRestController/customer_authenticate",CREATE_CUSTOMER_URL:"https://yoksghana.com/fms/CustomerRestController/customer",GET_PROFILE_URL:"https://yoksghana.com/fms/CustomerRestController/customer",UPDATE_LICENSE_URL:"https://yoksghana.com/fms/CustomerRestController/customer_uploadfile",GET_BOOKINGS_URL:"https://yoksghana.com/fms/BookingRestController/bookings_customer",GET_BOOKING_URL:"https://yoksghana.com/fms/BookingRestController/bookings",VALIDATE_TOKEN_URL:"https://yoksghana.com/fms/CustomerRestController/customer_validateToken",SAVE_BOOKING_URL:"https://yoksghana.com/fms/BookingRestController/bookings",GET_SERVICES_URL:"https://yoksghana.com/fms/BookingRestController/bookings_services",GET_AVAILABLE_CARS_URL:"https://yoksghana.com/fms/BookingRestController/get_available_vehicles",MAKE_PAYMENT_URL:"https://app.slydepay.com.gh/api/merchant/invoice/create",CHANGE_PASSWORD_URL:"https://yoksghana.com/fms/CustomerRestController/customer_forgot_password2",FORGOT_PASSWORD_URL:"https://yoksghana.com/fms/CustomerRestController/customer_forgot_password"},$e=r(16),Qe=r.n($e),et=r(41),tt=function(){return{type:p}};Qe.a.interceptors.request.use(et.requestLogger),Qe.a.interceptors.response.use(et.responseLogger);var rt=function(e,t){return function(r){return r(function(e,t){return{type:O,email:e,password:t}}(e,t)),Qe.a.post(Je.AUTHENTICATE_CUSTOMER_URL,{email:e,password:t}).then((function(e){var n,s;"success"===e.data.status?(st(e.data.token),e.data.customer.password=t,console.log(e.data.customer),r((n=e.data.customer,s=e.data.token,{type:y,customer:n,token:s})),r(tt())):r(Me(e.data.message))})).catch((function(e){e.response?r(Me(e.response.data.message)):e.request?r(Me(e.request._response)):r(Me(e.message))}))}},nt=function(e,t,r,n,s,a){return function(c){return c({type:x}),Qe.a.post(Je.CREATE_CUSTOMER_URL,{firstname:e,lastname:t,ctype:r,email:n,password:s,phone:a}).then((function(e){var t;"success"===e.data.status?c((t=e.data.message,{type:m,error:t})):c(qe(e.data.message))})).catch((function(e){e.response?c(qe(e.response.data.message)):e.request?c(qe(e.request._response)):c(qe(e.message))}))}},st=function(){var e=Object(Ke.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("token")}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(e,t){return function(r){return r({type:T}),Qe.a.post(Je.CHANGE_PASSWORD_URL,{email:e,password:t}).then((function(e){var t;"success"===e.data.status?r((t=e.data.message,{type:L,error:t})):r(Xe(e.data.message))})).catch((function(e){e.response?r(Xe(e.response.data.message)):e.request?r(Xe(e.request._response)):r(Xe(e.message))}))}},ct="#FAF1DA",ot="#505051",it="#CEAE57",lt="#22211E";var dt={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",width:"100%"},ut={backgroundColor:ct,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",width:"100%"},jt={width:"100%",backgroundColor:ct,borderRadius:100,height:40,borderStyle:"none",marginBottom:20,textAlign:"center"},bt={width:"100%",backgroundColor:ot,borderRadius:100,height:40,borderStyle:"none",marginBottom:20},ht={color:it},pt={width:"100%",justifyContent:"space-around"},gt=function(e){var t=Object(d.b)(),r=Object(d.c)((function(e){return e.authenticate})),s=a.a.useState(""),c=Object(Re.a)(s,2),o=c[0],i=c[1],l=a.a.useState(""),u=Object(Re.a)(l,2),j=u[0],b=u[1],h=function(){""!==o&&""!==j?null!==o.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?t(rt(o,j)):alert("Please enter a valid email address"):alert("Fields cannot be empty")},p=function(e){"Enter"===e.key&&h()};return a.a.useEffect((function(){r.ACTION_TYPE===y?e.history.push("/user"):r.ACTION_TYPE===f&&alert(r.loginError)}),[r.ACTION_TYPE]),Object(n.jsx)(Ie.a,{fluid:!0,children:Object(n.jsxs)(Be.a,{children:[Object(n.jsxs)(Ne.a,{xs:"12",sm:"6",md:"4",style:dt,children:[Object(n.jsx)("img",{src:ze,alt:"Waradrive",width:"80%",style:{marginBottom:50}}),Object(n.jsxs)(Pe.a,{style:{width:"70%"},children:[Object(n.jsx)(Ge.a,{value:o,onChange:function(e){return i(e.target.value)},onKeyPress:p,type:"email",placeholder:"email",style:jt}),Object(n.jsx)(Ge.a,{value:j,onChange:function(e){return b(e.target.value)},onKeyPress:p,type:"password",placeholder:"password",style:jt}),Object(n.jsxs)("p",{class:"text-center",children:[" ",Object(n.jsx)(we.a,{to:"/auth/reset-password",style:ht,children:"Forgot Password"})]}),Object(n.jsx)(Ue.a,{onClick:h,style:bt,children:r.isLoginLoading?Object(n.jsx)(De.a,{color:"light"}):"Login"})]}),Object(n.jsxs)("p",{children:["sign up?"," ",Object(n.jsx)(we.a,{to:"/auth/sign-up",style:ht,children:"Sign up"})]}),Object(n.jsx)("p",{children:Object(n.jsx)(we.a,{to:"/guest",style:ht,children:"Book a ride as a guest"})}),Object(n.jsxs)(Be.a,{style:pt,children:[Object(n.jsx)("a",{href:"#",children:Object(n.jsx)("img",{src:He,alt:"playstore"})}),Object(n.jsx)("a",{href:"#",children:Object(n.jsx)("img",{src:We,alt:"appstore"})})]})]}),Object(n.jsx)(Ne.a,{xs:"auto",sm:"6",md:"8",style:ut,class:"d-none d-sm-block",children:Object(n.jsx)("img",{src:Fe,alt:"Waradrive",width:"80%",style:{marginBottom:50}})})]})})},Ot=r(31),yt=r.p+"static/media/car2.e6ad04a7.svg";var ft={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",width:"100vw"},xt={backgroundColor:ct,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",width:"100%"},mt={width:"100%",backgroundColor:ct,borderRadius:100,height:40,borderStyle:"none",marginBottom:20,textAlign:"left",paddingLeft:25,alignSelf:"center"},vt={width:"100%",backgroundColor:ot,borderRadius:100,height:"40",borderStyle:"none",marginBottom:10,marginTop:20},kt=function(e){var t,r=Object(d.b)(),s=Object(d.c)((function(e){return e.authenticate})),c=a.a.useState(""),o=Object(Re.a)(c,2),i=o[0],l=o[1],u=a.a.useState(""),j=Object(Re.a)(u,2),b=j[0],h=j[1],p=a.a.useState(""),g=Object(Re.a)(p,2),O=g[0],y=g[1],f=a.a.useState(""),x=Object(Re.a)(f,2),k=x[0],C=x[1],S=a.a.useState(""),E=Object(Re.a)(S,2),_=E[0],T=E[1],L=a.a.useState(""),A=Object(Re.a)(L,2),R=A[0],w=A[1],I=a.a.useState(!0),B=Object(Re.a)(I,2),N=B[0],P=B[1],G=a.a.useState(!1),U=Object(Re.a)(G,2),D=U[0],W=U[1],F=a.a.useState("Individual"),H=Object(Re.a)(F,2),z=H[0],Y=H[1],V=a.a.useState(!1),K=Object(Re.a)(V,2),M=K[0],q=K[1];return a.a.useEffect((function(){console.log(s.ACTION_TYPE),s.ACTION_TYPE===m&&alert(s.signUpError)}),[s.ACTION_TYPE]),a.a.useEffect((function(){s.ACTION_TYPE===m?(alert(s.signUpError),e.history.push("/user")):s.ACTION_TYPE===v&&alert(s.signUpError)}),[s.ACTION_TYPE]),Object(n.jsx)(Ie.a,{fluid:!0,children:Object(n.jsxs)(Be.a,{children:[Object(n.jsxs)(Ne.a,{xs:"12",md:"4",sm:"6",style:ft,children:[Object(n.jsxs)(Pe.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(n.jsx)(Ge.a,{value:i,onChange:function(e){return l(e.target.value)},type:"text",placeholder:"First Name",style:mt}),Object(n.jsx)(Ge.a,{value:b,onChange:function(e){return h(e.target.value)},type:"text",placeholder:"Last Name",style:mt}),Object(n.jsx)(Ge.a,{value:O,onChange:function(e){return y(e.target.value)},type:"tel",placeholder:"Telephone Number",style:mt}),Object(n.jsx)(Ge.a,(t={value:k,onChange:function(e){return C(e.target.value)},type:"text",placeholder:"Email"},Object(Ot.a)(t,"type","email"),Object(Ot.a)(t,"style",mt),t)),Object(n.jsx)(Ge.a,{value:_,onChange:function(e){return T(e.target.value)},type:"password",placeholder:"Password",style:mt}),Object(n.jsx)(Ge.a,{value:R,onChange:function(e){return w(e.target.value)},type:"password",placeholder:"Confirm Password",style:mt}),Object(n.jsx)("p",{style:{fontSize:20,alignSelf:"flex-start",margin:0},children:"Account type"}),Object(n.jsxs)(Ne.a,{children:[Object(n.jsx)("input",{checked:N,onChange:function(){P(!0),W(!1),Y("Individual")},type:"radio",value:"Male"}),"  ","Individual"," ",Object(n.jsx)("input",{checked:D,onChange:function(){P(!1),W(!0),Y("Corporate")},type:"radio",value:"Male",style:{paddingHorizontal:20}})," ","Corporate"]}),Object(n.jsxs)(Ne.a,{style:{width:"100%",marginTop:10},children:[Object(n.jsx)(Ge.a,{checked:M,onChange:function(){return q(!M)},type:"checkbox"}),"I agree to the ",Object(n.jsx)("a",{style:{color:it},href:"http://yoksghana.net:3000/terms-cond",children:"Terms and Conditions"})]}),Object(n.jsx)(Ue.a,{onClick:function(){""!==i&&""!==b&&""!==O&&""!==k&&""!==_&&""!==R?null!==k.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?_===R?_.length<5?alert("Password cannot be less than 5"):0!=M?r(nt(i,b,z,k,_,O)):alert("Please agree to the Terms and Conditions"):alert("Passwords do not match"):alert("Please enter a valid email address"):alert("Fields cannot be empty")},style:vt,children:s.isSignUpLoading?Object(n.jsx)(De.a,{color:"light"}):"Sign Up"})]}),Object(n.jsxs)("p",{children:["Already a user?"," ",Object(n.jsx)(we.a,{to:"/auth/login",style:{color:it},children:"Login"})]})]}),Object(n.jsx)(Ne.a,{xs:"auto",md:"8",sm:"6",style:xt,children:Object(n.jsx)("img",{src:yt,alt:"Waradrive",width:"80%",style:{marginBottom:50}})})]})})};var Ct=function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"ResetPasswordPage "}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)(we.a,{to:"/auth/login",children:"Login"})}),Object(n.jsx)("li",{children:Object(n.jsx)(we.a,{to:"/auth/sign-up",children:"Sign up"})}),Object(n.jsx)("li",{children:Object(n.jsx)(we.a,{to:"/auth/reset-password",children:"Reset Password"})}),Object(n.jsx)("li",{children:Object(n.jsx)(we.a,{to:"/guest",children:"Book a ride as a guest"})})]})]})};function St(){return Object(n.jsx)("div",{children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{path:"/auth/login",component:gt}),Object(n.jsx)(l.b,{path:"/auth/sign-up",component:kt}),Object(n.jsx)(l.b,{path:"/auth/reset-password",component:Ct}),Object(n.jsx)(l.a,{to:"/auth/login"})]})})}var Et=r(139),_t=r(140),Tt=r(141),Lt=r(142),At=r(143),Rt=r(144),wt=r(145);function It(e){var t=Object(s.useState)(!1),r=Object(Re.a)(t,2),a=r[0],c=r[1];return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Et.a,{dark:!0,expand:"md",style:{backgroundColor:lt},children:[Object(n.jsx)(_t.a,{href:"/user",children:"WARA DRIVE"}),Object(n.jsx)(Tt.a,{onClick:function(){return c(!a)}}),Object(n.jsx)(Lt.a,{isOpen:a,navbar:!0,children:Object(n.jsxs)(At.a,{navbar:!0,children:[Object(n.jsx)(Rt.a,{children:Object(n.jsx)(wt.a,{href:"/user/my-bookings",children:"My Bookings"})}),Object(n.jsx)(Rt.a,{children:Object(n.jsx)(wt.a,{href:"/user/book",children:"Book a ride"})}),Object(n.jsx)(Rt.a,{children:Object(n.jsx)(wt.a,{href:"/user/profile",children:"Profile"})}),Object(n.jsx)(Rt.a,{children:Object(n.jsx)(wt.a,{href:"/auth",children:"Logout"})}),Object(n.jsx)(Rt.a,{className:"ml-auto",children:Object(n.jsx)(wt.a,{href:""})})]})})]})})}var Bt=r(27),Nt=r.n(Bt),Pt=r(0),Gt=r(28),Ut=r.p+"static/media/logo1.c8fde1b8.svg";function Dt(e){Object(d.b)();var t=Object(d.c)((function(e){return e.authenticate}));return Object(n.jsx)(Be.a,{children:Object(n.jsxs)(Nt.a,{canExceed:!0,style:{width:"100%"},children:[Object(n.jsx)(Ne.a,{style:Wt,children:Object(n.jsx)(we.a,{style:Yt,to:"/user",children:Object(n.jsx)("img",{src:Ut,alt:"logo",style:{width:75,height:150,resizeMode:"contain"}})})}),Object(n.jsxs)("div",{class:"col-12",style:{backgroundColor:ct},children:[Object(n.jsxs)(Be.a,{style:Ft,children:[Object(n.jsx)("div",{style:Ht}),Object(n.jsx)("h5",{style:{margin:0,marginTop:10,fontSize:18},children:t.customer.firstname+" "+t.customer.lastname}),Object(n.jsx)("h6",{style:{margin:0,fontSize:"15",fontWeight:"300"},children:t.customer.email})]}),Object(n.jsxs)(Be.a,{style:zt,children:[Object(n.jsx)(Pt.b.Provider,{value:{style:{fontSize:16,color:ot}},children:Object(n.jsx)(Gt.b,{})}),Object(n.jsx)(we.a,{style:Yt,to:"/user/my-bookings",children:"Bookings"})]}),Object(n.jsxs)(Be.a,{style:zt,children:[Object(n.jsx)(Pt.b.Provider,{value:{style:{fontSize:16,color:ot}},children:Object(n.jsx)(Gt.a,{})}),Object(n.jsx)(we.a,{style:Yt,to:"/user/book",children:"Book a ride"})]}),Object(n.jsxs)(Be.a,{style:zt,children:[Object(n.jsx)(Pt.b.Provider,{value:{style:{fontSize:16,color:ot}},children:Object(n.jsx)(Gt.d,{})}),Object(n.jsx)(we.a,{style:Yt,to:"/user/profile",children:"Profile"})]}),Object(n.jsx)("div",{style:Vt,children:Object(n.jsxs)(Be.a,{style:zt,children:[Object(n.jsx)(Pt.b.Provider,{value:{style:{fontSize:16,color:ot}},children:Object(n.jsx)(Gt.c,{})}),Object(n.jsx)(we.a,{style:Yt,to:"/auth",children:"Sign Out"})]})})]})]})})}var Wt={backgroundColor:lt,height:60,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},Ft={borderStyle:"solid",height:"35vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderBottomWidth:.1,borderTopWidth:0,borderLeftWidth:0,borderRightWidth:0,borderColor:"#c4c4c4",marginBottom:20},Ht={backgroundImage:"url(https://images.pexels.com/photos/34153/pexels-photo.jpg?auto=compress&cs=tinysrgb&h=350)",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",height:"20vh",width:"20vw",borderStyle:"solid",borderRadius:7},zt={display:"flex",flexDirection:"row",alignItems:"center",paddingLeft:40,paddingRight:20,paddingTop:10,paddingBottom:10},Yt={margin:0,paddingLeft:10,color:ot,fontSize:16,fontWeight:"500"},Vt={height:"20vh",display:"flex",flexDirection:"column",justifyContent:"flex-end"},Kt=r.p+"static/media/null.f0175c40.svg",Mt=r(152),qt=r(146),Xt=r(147),Zt=r(151),Jt=r(148);function $t(e){var t=e.item,r=e.onVehicleSelected,a=e.carImages,c=Object(s.useState)(!1),o=Object(Re.a)(c,2),i=o[0],l=o[1],d=function(){return l(!i)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{class:"col-md-6 col-sm-8",style:Object(j.a)(Object(j.a)({},Qt.itemWrapper),{backgroundImage:"url("+t.pics[0]+")"}),children:Object(n.jsxs)(Be.a,{style:Qt.background,children:[Object(n.jsx)("div",{style:Qt.carName,children:t.vehicle}),Object(n.jsxs)("div",{style:Qt.available,children:["Available: ",t.available]}),Object(n.jsxs)("div",{style:Qt.row,children:[Object(n.jsx)(Ue.a,{style:Qt.button,onClick:d,children:"Details"}),Object(n.jsx)(Ue.a,{style:Qt.button,onClick:function(){return r(t)},children:"Select"})]})]})}),Object(n.jsxs)(Mt.a,{isOpen:i,toggle:d,className:"col-12",size:"xl",children:[Object(n.jsxs)(qt.a,{toggle:d,children:[t.vehicle," "]}),Object(n.jsx)(Xt.a,{children:Object(n.jsxs)(Be.a,{children:[Object(n.jsx)(Ne.a,{lg:"7",sm:"12",style:er.carousel,children:Object(n.jsx)(Be.a,{children:Object(n.jsx)(Zt.a,{items:a})})}),Object(n.jsx)(Ne.a,{children:Object(n.jsx)(Jt.a,{borderless:!0,children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Cost"}),Object(n.jsxs)("td",{children:["GHC ",t.price.total]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Gearbox"}),Object(n.jsx)("td",{children:t.gearbox})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Suticases"}),Object(n.jsx)("td",{children:t.suitcases})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"No. of doors"}),Object(n.jsx)("td",{children:t.doors})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Passengers"}),Object(n.jsx)("td",{children:t.passengers})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"Car Description"}),Object(n.jsx)("td",{children:t.description})]})]})})})]})})]})]})}var Qt={itemWrapper:{marginBottom:20,height:250,backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",borderStyle:"solid",borderColor:ct,borderWidth:1,display:"flex",flexDirection:"column",justifyContent:"flex-end"},background:{padding:10,height:"100%",backgroundColor:"rgba(0,0,0,.4)",justifyContent:"space-around",display:"flex",flexDirection:"column",alignItems:"center"},carName:{color:"white",fontSize:20,textAlign:"center"},available:{fontSize:18,color:"white"},button:{backgroundColor:it,fontSize:13},row:{display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-around",alignItems:"center"}},er={carousel:{height:400}},tr=function(e){return{type:H,error:e}},rr=function(e){return{type:V,error:e}},nr=function(e){return{type:q,error:e}},sr=function(e,t,r,n,s,a,c,o,i,l,d,u,j,b){return{type:$,customer:e,rtype:t,stype:r,starttime:n,endtime:s,pickup:a,pickupgps:c,dropoff:o,dropoffgps:i,distance:l,hours:d,comments:u,total_amt:j,ccars:b}},ar=function(e){return{type:J,error:e}},cr=function(e,t,r,n,s,a){return function(c){return c({type:X}),Qe.a.post(Je.GET_AVAILABLE_CARS_URL,{rtype:e,stype:t,starttime:r,endtime:n,distance:s,hours:a}).then((function(e){var t,r;"success"===e.data.status?c((t=e.data.record.categories,r=e.data.record.vehicles,{type:Z,categories:t,vehicles:r})):c(ar(e.data.message))})).catch((function(e){e.response?c(ar(e.response.data.message)):e.request?c(ar(e.request._response)):c(ar(e.message))}))}};var or={},ir={wrapper:{borderStyle:"solid",borderColor:ct},title:{display:"flex",justifyContent:"center",textAlign:"center",fontSize:20},instruction:{fontSize:12,paddingLeft:10,paddingRight:10,textAlign:"center",display:"flex",justifyContent:"center",color:"grey"},listWrapper:{display:"flex",justifyContent:"center",margin:10},button:{fontSize:14,width:"100%"}},lr={null:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingTop:"20vh"},instruction:{fontSize:12,paddingBottom:5,textAlign:"center",display:"flex",justifyContent:"center",color:"grey"},caption:{fontSize:20,paddingTop:5,textAlign:"center",display:"flex",justifyContent:"center"}},dr=function(e){var t=e.isGuest?"guest":"user",r=Object(d.b)(),c=Object(d.c)((function(e){return e.booking})),o=Object(d.c)((function(e){return e.availableCars})),i=Object(s.useState)("Select Category to see available cars"),l=Object(Re.a)(i,2),u=l[0],b=l[1],h=a.a.useState([]),p=Object(Re.a)(h,2),g=p[0],O=p[1];a.a.useEffect((function(){r(cr(c.saveBooking.rtype,c.saveBooking.stype,c.saveBooking.starttime,c.saveBooking.endtime,c.saveBooking.distance,c.saveBooking.hours))}),[]);var y=function(n){var s=[{car:n.vehicle,qty:1,price:n.price}];r(sr(null,null,null,null,null,null,null,null,null,null,null,null,1,s)),e.history.push("/".concat(t,"/reservation-summary"))};return o.isAvailableCarsLoading,c.ACTION_TYPE,Object(n.jsx)("div",{style:or,children:Object(n.jsxs)(Be.a,{children:[Object(n.jsxs)(Ne.a,{md:"4",style:ir.wrapper,children:[Object(n.jsx)(Be.a,{style:ir.title,children:"Available Cars"}),Object(n.jsx)(Be.a,{style:ir.instruction,children:"Click on a category to see available vehicles"}),o.categories.map((function(e){return Object(n.jsx)(Be.a,{style:ir.listWrapper,children:Object(n.jsx)(Ue.a,{style:ir.button,onClick:function(){return function(e){b(e.name);var t=o.vehicles.filter((function(t){return t.category_id===e.id}));O(t)}(e)},children:e.name})},e.id)}))]}),Object(n.jsx)(Ne.a,{children:Object(n.jsx)(Nt.a,{canExceed:!0,className:"col-12",children:g.length?Object(n.jsxs)("div",{children:[Object(n.jsx)(Be.a,{style:lr.caption,children:u}),Object(n.jsx)(Be.a,{style:lr.instruction,children:"Click on details to see moe information about the vehicle before selecting it"}),Object(n.jsx)(Be.a,{md:"2",sm:"1",style:{display:"flex",justifyContent:"center"},children:g.map((function(e){var t=e.pics.map((function(e){return{src:e}}));return Object(n.jsx)($t,{carImages:t,onVehicleSelected:y,item:Object(j.a)({},e)},e.vehicle)}))})]}):Object(n.jsxs)(Ne.a,{style:lr.null,children:[Object(n.jsx)("img",{src:Kt,alt:"null"}),Object(n.jsx)("h5",{children:"No vehicles available found"}),Object(n.jsx)("p",{children:"select a category to see available vehicles"})]})})})]})})},ur=r(66),jr=r.n(ur),br=r(29),hr=r(44),pr=r.n(hr),gr=r(149);function Or(e){Object(d.b)(),Object(d.c)((function(e){return e.authenticate}));return Object(n.jsx)("p",{style:{borderWidth:2,borderStyle:"solid"},onClick:e.onClick,children:e.text})}var yr="AIzaSyBoxWkohZFZPpC3VOE3WJkrWsXMiXU1IHw",fr="1583660561401",xr="kobequagraine@gmail.com",mr={HOURLY:"1",WHOLE_DAY_IN_ACCRA:"2",WHOLE_DAY_OUTSIDE_ACCRA:"3",FINANCE_LEASE:"4",TAXI_SERVICE:"5"},vr=function(e){switch(e){case"1":return"Hourly";case"2":return"Whole Day (Accra)";case"3":return"Whole Day (Outside Accra)";case"4":return"Finance Lease";case"5":return"Taxi Service";default:return"UNKNOWN RESERVATION TYPE"}},kr={center:{lat:5.55,lng:-.1871},zoom:30,options:{styles:[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"on"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{weight:2}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#f3e562"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b5d5f7"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],disableDefaultUI:!0,zoomControl:!0}};var Cr={height:"100vh"},Sr={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},Er={container:{height:"100%",backgroundColor:ct,display:"flex",flexDirection:"column"},header:{padding:10,paddingLeft:0,paddingRight:0,borderStyle:"solid",borderTopWidth:0,borderBottomWidth:.5,borderLeftWidth:0,borderRightWidth:0,justifyContent:"center",borderColor:"#c4c4c4"},headerText:{margin:0,fontSize:18},inputWrapper:{paddingTop:0,paddingBottom:0,paddingLeft:15,paddingRight:15,marginTop:0},input:{borderRadius:100,alignSelf:"center"},inputStyle:{borderRadius:100,paddingLeft:10},row:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},buttonWrapper:{marginTop:20,marginBottom:20,width:"80%"},button:{width:"100%",borderRadius:100}},_r=function(e){var t=e.isGuest?"guest":"user",r=Object(d.b)(),c=Object(d.c)((function(e){return e.authenticate})),o=(Object(d.c)((function(e){return e.booking})),Object(s.useState)("")),i=Object(Re.a)(o,2),l=i[0],u=i[1],b=Object(s.useState)("Self-drive"),h=Object(Re.a)(b,2),p=h[0],g=h[1],O=Object(s.useState)(null),y=Object(Re.a)(O,2),f=y[0],x=y[1],m=Object(s.useState)(null),v=Object(Re.a)(m,2),k=v[0],C=v[1],S=Object(s.useState)(null),E=Object(Re.a)(S,2),_=E[0],T=E[1],L=Object(s.useState)(null),A=Object(Re.a)(L,2),R=A[0],w=A[1],I=Object(s.useState)(null),B=Object(Re.a)(I,2),N=B[0],P=B[1],G=Object(s.useState)(null),U=Object(Re.a)(G,2),D=U[0],W=U[1],F=Object(s.useState)(null),H=Object(Re.a)(F,2),z=H[0],Y=H[1],V=Object(s.useState)({}),K=Object(Re.a)(V,2),M=K[0],q=K[1],X=Object(s.useState)({}),Z=Object(Re.a)(X,2),J=Z[0],$=Z[1],Q=Object(s.useState)([]),ee=Object(Re.a)(Q,2),te=ee[0],re=ee[1],ne=Object(s.useState)([]),se=Object(Re.a)(ne,2),ae=se[0],ce=se[1],oe=Object(s.useState)(null),ie=Object(Re.a)(oe,2),le=ie[0],de=ie[1],ue=Object(s.useState)({text:"",value:0}),je=Object(Re.a)(ue,2),be=je[0],he=je[1],pe=Object(s.useState)({text:"",value:0}),ge=Object(Re.a)(pe,2),Oe=(ge[0],ge[1]),ye=Object(s.useState)(""),fe=Object(Re.a)(ye,2),xe=fe[0],me=fe[1],ve=a.a.useRef(),ke=a.a.useCallback((function(e){ve.current=e}),[]),Ce=a.a.useCallback((function(e){var t=e.lat,r=e.lng;ve.current.panTo({lat:t,lng:r}),ve.current.setZoom(20)}),[]),Se=Object(br.d)({googleMapsApiKey:yr}),Ee=Se.isLoaded,_e=(Se.loadError,null),Te=null,Le=null,Ae=null,we=null;function Ie(){return(Ie=Object(Ke.a)(Ve.a.mark((function e(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.geolocation){e.next=3;break}return alert("Geolocation is not supported by your browser"),e.abrupt("return");case 3:navigator.geolocation.getCurrentPosition(function(){var e=Object(Ke.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(t.coords.latitude+","+t.coords.longitude);case 2:_e=e.sent,Ye(_e);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(){return alert("Error getting your location")}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.a.useEffect((function(){!function(){Ie.apply(this,arguments)}()}),[]),a.a.useEffect((function(){M.latitude&&J.latitude&&Ze()}),[M,J]);var Pe=function(){var e=Object(Ke.a)(Ve.a.mark((function e(t){var r,n;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://maps.googleapis.com/maps/api/geocode/json?key=".concat(yr,"\n        &latlng=").concat(t));case 3:return r=e.sent,e.next=6,r.json();case 6:return n=e.sent,e.abrupt("return",n.results[0].place_id);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),We=pr.a.debounce(function(){var e=Object(Ke.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),2e3),Fe=pr.a.debounce(function(){var e=Object(Ke.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),2e3),He=function(){var e=Object(Ke.a)(Ve.a.mark((function e(t){var r,n,s;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://maps.googleapis.com/maps/api/place/autocomplete/json?key=".concat(yr,"\n    &input=").concat(t,"\n    &location=").concat(M.latitude,",").concat(M.longitude,"\n    &radius=1000"),e.prev=1,e.next=4,fetch(r);case 4:return n=e.sent,e.next=7,n.json();case 7:s=e.sent,re(s.predictions),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(Ke.a)(Ve.a.mark((function e(t){var r,n,s;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://maps.googleapis.com/maps/api/place/autocomplete/json?key=".concat(yr,"\n    &input=").concat(t,"\n    &location=").concat(M.latitude,",").concat(M.longitude,"\n    &radius=1000"),e.prev=1,e.next=4,fetch(r);case 4:return n=e.sent,e.next=7,n.json();case 7:s=e.sent,ce(s.predictions),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(Ke.a)(Ve.a.mark((function e(t){var r,n;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://maps.googleapis.com/maps/api/place/details/json?key=".concat(yr,"\n        &placeid=").concat(t));case 3:return r=e.sent,e.next=6,r.json();case 6:n=e.sent,W(n.result.name),q({latitude:n.result.geometry.location.lat,longitude:n.result.geometry.location.lng}),Ce({lat:n.result.geometry.location.lat,lng:n.result.geometry.location.lng}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Object(Ke.a)(Ve.a.mark((function e(t){var r,n;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://maps.googleapis.com/maps/api/place/details/json?key=".concat(yr,"\n        &placeid=").concat(t));case 3:return r=e.sent,e.next=6,r.json();case 6:n=e.sent,Y(n.result.name),$({latitude:n.result.geometry.location.lat,longitude:n.result.geometry.location.lng}),Ce({lat:n.result.geometry.location.lat,lng:n.result.geometry.location.lng}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),qe=te.map((function(e){return Object(n.jsx)(Or,{text:e.structured_formatting.main_text,onClick:Object(Ke.a)(Ve.a.mark((function t(){return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:re([]),W(e.structured_formatting.main_text),Ye(e.place_id);case 3:case"end":return t.stop()}}),t)})))},e.id)})),Xe=ae.map((function(e){return Object(n.jsx)(Or,{text:e.structured_formatting.main_text,onClick:Object(Ke.a)(Ve.a.mark((function t(){return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:re([]),W(e.structured_formatting.main_text),Ye(e.place_id);case 3:case"end":return t.stop()}}),t)})))},e.id)}));M.latitude&&(Le=Object(n.jsx)(br.b,{draggable:!0,onDragEnd:function(){var e=Object(Ke.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(t.latLng.lat()+","+t.latLng.lng());case 2:_e=e.sent,Ye(_e);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),position:{lat:M.latitude,lng:M.longitude},title:"Pickup Location",identifier:"pickUpLocationMarker",maxZoomLevel:15})),J.latitude&&(Ae=Object(n.jsx)(br.b,{draggable:!0,onDragEnd:function(){var e=Object(Ke.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(t.latLng.lat()+","+t.latLng.lng());case 2:Te=e.sent,Me(Te);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),position:{lat:J.latitude,lng:J.longitude},title:"Drop-off Location",identifier:"dropOffLocationMarker"})),le&&(we=Object(n.jsx)(br.c,{path:le,options:{strokeColor:"black",strokeOpacity:1,strokeWeight:2},strokeWidth:4,strokeColor:"black"}));var Ze=function(){var e=Object(Ke.a)(Ve.a.mark((function e(){var t,r,n,s;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://maps.googleapis.com/maps/api/directions/json?key=".concat(yr,"\n        &origin=").concat(M.latitude,",").concat(M.longitude,"\n        &destination=").concat(J.latitude,",").concat(J.longitude));case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,n=jr.a.decode(r.routes[0].overview_polyline.points),s=n.map((function(e){return{lat:e[0],lng:e[1]}})),de(s),he(r.routes[0].legs[0].distance),Oe(r.routes[0].legs[0].duration),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{children:Object(n.jsxs)(Be.a,{children:[Object(n.jsx)(Ne.a,{xl:{size:"8",order:2},lg:{size:"7",order:2},md:{size:"6",order:1},xs:{size:"12",order:2},style:Cr,children:Object(n.jsx)(Be.a,{style:{height:"100vh"},children:Ee?Object(n.jsxs)(br.a,{mapContainerStyle:{width:"65vw",height:"100vh"},onLoad:ke,options:kr.options,center:kr.center,zoom:kr.zoom,children:[we,Le,Ae]}):Object(n.jsx)(De.a,{})})}),Object(n.jsx)(Ne.a,{xl:{size:"4",order:2},lg:{size:"5",order:2},md:{size:"6",order:2},xs:{size:"12",order:1},style:Er.container,children:Object(n.jsxs)(Nt.a,{canExceed:!0,className:"col-12",children:[Object(n.jsx)(Be.a,{style:Er.header,children:Object(n.jsx)("h5",{style:Er.headerText,children:"Booking Specification"})}),Object(n.jsxs)("div",{style:Sr,children:[Object(n.jsxs)(Be.a,{style:Object(j.a)({},Er.inputWrapper),children:[Object(n.jsx)(gr.a,{children:"Reservation Type"}),Object(n.jsxs)(Ge.a,{type:"select",name:"select",id:"exampleSelect1",style:Er.input,onChange:function(e){u(e.target.value),l===mr.TAXI_SERVICE?g("Chauffeur-Driven"):l===mr.FINANCE_LEASE&&g("Self-Drive")},children:[Object(n.jsx)("option",{value:"",children:"Please Select"}),Object(n.jsx)("option",{value:mr.WHOLE_DAY_IN_ACCRA,children:"Whole Day (Accra)"}),Object(n.jsx)("option",{value:mr.WHOLE_DAY_OUTSIDE_ACCRA,children:"Whole Day (Outside Accra)"}),Object(n.jsx)("option",{value:mr.HOURLY,children:"Hourly"}),Object(n.jsx)("option",{value:mr.TAXI_SERVICE,children:"Taxi Service"}),Object(n.jsx)("option",{value:mr.FINANCE_LEASE,children:"Financed Lease"})]})]}),Object(n.jsxs)("div",{style:{display:""===l?"none":"block"},children:[Object(n.jsxs)(Be.a,{style:Object(j.a)(Object(j.a)({},Er.inputWrapper),{},{display:[mr.TAXI_SERVICE,mr.FINANCE_LEASE].includes(l)?"none":"block"}),children:[Object(n.jsx)(gr.a,{children:"Service Type"}),Object(n.jsxs)(Ge.a,{type:"select",id:"exampleSelect2",style:Er.input,onChange:function(e){return g(e.target.value)},children:[Object(n.jsx)("option",{selected:!0,value:"Self-Drive",children:"Self-Drive"}),Object(n.jsx)("option",{value:"Chauffeur-Driven",children:"Chauffeur-Driven"})]})]}),Object(n.jsxs)(Be.a,{style:Object(j.a)(Object(j.a)({},Er.inputWrapper),{},{display:[mr.FINANCE_LEASE].includes(l)?"none":"block"}),children:[Object(n.jsx)(gr.a,{children:"Pick-Up Location"}),Object(n.jsx)(Ge.a,{value:D,onChange:function(e){W(e.target.value),We(e.target.value)},type:"text",name:"pickupLocation",placeholder:"Pickup Location",style:Er.inputStyle}),qe]}),Object(n.jsxs)(Be.a,{style:Object(j.a)(Object(j.a)({},Er.inputWrapper),{},{display:[mr.FINANCE_LEASE,mr.WHOLE_DAY_IN_ACCRA].includes(l)?"none":"block"}),children:[Object(n.jsx)(gr.a,{children:"Drop-off Location"}),Object(n.jsx)(Ge.a,{value:z,onChange:function(e){Y(e.target.value),Fe(e.target.value)},type:"text",name:"dropoffLocation",placeholder:"Drop-off Location",style:Er.inputStyle}),Xe]}),Object(n.jsxs)(Be.a,{style:Er.inputWrapper,children:[Object(n.jsx)(gr.a,{for:"pickupDate",children:"Pickup Date"}),Object(n.jsx)(Ge.a,{value:f,onChange:function(e){return x(e.target.value)},type:"date",name:"pickupDate",placeholder:"date placeholder",style:Er.inputStyle})]}),Object(n.jsxs)(Be.a,{style:Er.inputWrapper,children:[Object(n.jsx)(gr.a,{for:"pickupTime",children:"Pickup Time"}),Object(n.jsx)(Ge.a,{value:_,onChange:function(e){return T(e.target.value)},type:"time",name:"pickupTime",placeholder:"time placeholder",style:Er.inputStyle})]}),Object(n.jsxs)(Be.a,{style:Object(j.a)(Object(j.a)({},Er.inputWrapper),{},{display:[mr.TAXI_SERVICE].includes(l)?"none":"block"}),children:[Object(n.jsx)(gr.a,{for:"dropoffDate",children:"Drop-off Date"}),Object(n.jsx)(Ge.a,{value:k,onChange:function(e){return C(e.target.value)},type:"date",name:"dropoffDate",placeholder:"date placeholder",style:Er.inputStyle})]}),Object(n.jsxs)(Be.a,{style:Object(j.a)(Object(j.a)({},Er.inputWrapper),{},{display:[mr.TAXI_SERVICE].includes(l)?"none":"block"}),children:[Object(n.jsx)(gr.a,{for:"dropoffTime",children:"Drop-off Time"}),Object(n.jsx)(Ge.a,{value:R,onChange:function(e){return w(e.target.value)},type:"time",name:"dropoffTime",placeholder:"time placeholder",style:Er.inputStyle})]}),Object(n.jsxs)(Be.a,{style:Er.inputWrapper,children:[Object(n.jsx)(gr.a,{for:"additionalInformation",children:"Additional Information"}),Object(n.jsx)(Ge.a,{value:N,onChange:function(e){return P(e.target.value)},type:"textarea",name:"additinalInformation"})]}),Object(n.jsx)("div",{children:xe}),Object(n.jsx)(Be.a,{style:Er.buttonWrapper,children:Object(n.jsx)(Ue.a,{onClick:function(){switch(me(""),l){case mr.TAXI_SERVICE:if(null===D||null===z||null===f||null===_)return void me("Fields cannot be empty");break;case mr.HOURLY:if(null===D||null===z||null===f||null===_||null===k||null===R)return void me("Fields cannot be empty");break;case mr.WHOLE_DAY_IN_ACCRA:if(null===D||null===f||null===_||null===k||null===R)return void me("Fields cannot be empty");break;case mr.WHOLE_DAY_OUTSIDE_ACCRA:if(null===D||null===z||null===f||null===_||null===k||null===R)return void me("Fields cannot be empty");break;case mr.FINANCE_LEASE:if(null===f||null===_||null===k||null===R)return void me("Fields cannot be empty")}r(sr(e.isGuest?null:c.customer_id,l,p,"".concat(f," ").concat(_),"".concat(k," ").concat(R),D,"".concat(M.latitude,",").concat(M.longitude),z,"".concat(J.latitude,", ").concat(J.longitude),be.text,null,N,null,null)),e.history.push("/".concat(t,"/available-cars"))},style:Er.button,children:"continue"})})]})]})]})})]})})},Tr=function(e){return function(t){return t({type:W}),Qe.a.post(Je.GET_BOOKINGS_URL,{customer:e}).then((function(e){var r;"success"===e.data.status?t((r=e.data.bookings,{type:F,bookings:r})):t(tr(e.data.message))})).catch((function(e){e.response?t(tr(e.response.data.message)):e.request?t(tr(e.request._response)):t(tr(e.message))}))}},Lr=function(e){return function(t){return t({type:z}),Qe.a.post(Je.GET_BOOKING_URL,{id:e}).then((function(e){var r,n;"success"===e.data.status?t((r=e.data.booking,n=e.data.cardetails[0],{type:Y,booking:r,cardetails:n})):t(rr(e.data.message))})).catch((function(e){e.response?t(rr(e.response.data.message)):e.request?t(rr(e.request._response)):t(rr(e.message))}))}},Ar=function(e){return function(t){return t({type:K}),Qe.a.post(Je.SAVE_BOOKING_URL,e).then((function(e){var r;"success"===e.data.status?t((r=e.data.booking_id,{type:M,bookingId:r})):t(nr(e.data.message))})).catch((function(e){console.log(e),e.response?(console.log(e.response),t(nr(e.response.data.message))):e.request?(console.log(e.request),t(nr(e.request._response))):t(nr(e.message))}))}};var Rr={display:"flex",flexDirection:"column",alignItems:"center",marginTop:"3vh"},wr={borderStyle:"solid",borderWidth:1,borderColor:"rgb(222,226,230)",elevation:10},Ir={padding:15,display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:ct},Br={fontWeight:500,fontSize:18,margin:0,color:ot},Nr={fontSize:15},Pr={fontWeight:550,color:ot},Gr={display:"grid",justifyContent:"center",alignItems:"center",placeItems:"center",paddingTop:50,paddingBottom:50},Ur={backgroundColor:"transparent",color:ot,borderColor:ot},Dr=function(e){var t=Object(d.b)(),r=Object(d.c)((function(e){return e.authenticate})),s=Object(d.c)((function(e){return e.booking}));return a.a.useEffect((function(){t(Tr(r.customer_id))}),[]),s.ACTION_TYPE,Object(n.jsx)(Ie.a,{fluid:!0,style:Rr,children:Object(n.jsxs)(Ne.a,{xl:"10",lg:"10",md:"10",sm:"12",xs:"12",style:wr,children:[Object(n.jsxs)(Be.a,{style:Ir,children:[Object(n.jsx)("h5",{style:Br,children:"Latest Bookings"}),Object(n.jsx)(Ue.a,{style:Nr,href:"/user/book",children:"NEW BOOKING"})]}),s.bookings.length?Object(n.jsx)("div",{children:Object(n.jsx)(Be.a,{children:Object(n.jsxs)(Jt.a,{responsive:!0,hover:!0,style:{margin:0},children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{style:Pr,children:"Order Ref"}),Object(n.jsx)("th",{style:Pr,children:"Service Type"}),Object(n.jsx)("th",{style:Pr,children:"Date"}),Object(n.jsx)("th",{style:Pr,children:"Status"})]})}),Object(n.jsx)("tbody",{children:s.bookings.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(Ue.a,{style:Ur,href:"/user/my-booking-summary/"+e.id,children:e.booking_id})}),Object(n.jsx)("td",{children:e.stype}),Object(n.jsx)("td",{children:e.created.substr(0,10)}),Object(n.jsx)("td",{children:e.status})]},e.booking_id)}))})]})})}):Object(n.jsx)("div",{children:Object(n.jsxs)(Be.a,{style:Gr,children:[Object(n.jsx)("h5",{children:"No bookings found"}),Object(n.jsx)("p",{children:"click on New Booking to book a ride"})]})})]})})};function Wr(e){var t=e.item;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Jt.a,{striped:!0,borderless:!0,style:Kr,children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:zr,children:"Reservation Type"}),Object(n.jsx)("td",{style:Hr,children:vr(t.booking.rtype)})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:zr,children:"Service Type"}),Object(n.jsx)("td",{style:Hr,children:t.booking.stype})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:zr,children:"Started Date and Time"}),Object(n.jsx)("td",{style:Hr,children:t.booking.starttime})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:zr,children:"End Date and Time"}),Object(n.jsx)("td",{style:Hr,children:t.booking.endtime})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:zr,children:"Pickup Location"}),Object(n.jsx)("td",{style:Hr,children:t.booking.pickup})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:zr,children:"Drop-off Location"}),Object(n.jsx)("td",{style:Hr,children:t.booking.dropoff})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:zr,children:"Distance"}),Object(n.jsx)("td",{style:Hr,children:t.booking.distance})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:zr,children:"Hours"}),Object(n.jsx)("td",{style:Hr,children:t.booking.hours})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:zr,children:"Comment"}),Object(n.jsx)("td",{style:Hr,children:t.booking.comments})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:zr,children:"Selected Car"}),Object(n.jsx)("td",{style:Hr,children:t.cardetails.vehicle})]})]})})})}function Fr(e){var t=e.item;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Jt.a,{striped:!0,borderless:!0,style:Kr,children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:zr,children:"Base Rate"}),Object(n.jsxs)("td",{style:Hr,children:["GH\u20b5 ",t.cardetails.base_rate]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:zr,children:"Cost (Base Rate without Tax * Number of Hours/days)"}),Object(n.jsxs)("td",{style:Hr,children:["GH\u20b5 ",t.cardetails.rate]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{style:zr,children:["NHIL (",t.cardetails.nhil_value,"%)"]}),Object(n.jsxs)("td",{style:Hr,children:["GH\u20b5 ",t.cardetails.nhil]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{style:zr,children:["GetFund (",t.cardetails.getfund_value,"%)"]}),Object(n.jsxs)("td",{style:Hr,children:["GH\u20b5 ",t.cardetails.getfund]})]}),Object(n.jsxs)("tr",{style:Yr,children:[Object(n.jsx)("td",{style:zr,children:"Total Cost (Cost+Nhil+GetFund)"}),Object(n.jsxs)("td",{style:Hr,children:["GH\u20b5 ",t.cardetails.rate]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{style:zr,children:["VAT(",t.cardetails.vat_value,"% OF Total Cost)"]}),Object(n.jsxs)("td",{style:Hr,children:["GH\u20b5 ",t.cardetails.vat]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{style:zr,children:["Tourism (",t.cardetails.tourism_value,"% of Total Cost)"]}),Object(n.jsxs)("td",{style:Hr,children:["GH\u20b5 ",t.cardetails.tourism]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:zr,children:"Driver's Allowance (Base rate per day)"}),Object(n.jsxs)("td",{style:Hr,children:["GH\u20b5 ",t.cardetails.base_driver_allowance]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:zr,children:"Driver's Allowance (Base rate * Number of days)"}),Object(n.jsxs)("td",{style:Hr,children:["GH\u20b5 ",t.cardetails.driver_allowance]})]}),Object(n.jsxs)("tr",{style:Vr.wrapper,children:[Object(n.jsx)("td",{style:Vr.leftStyle,children:"Total Cost"}),Object(n.jsxs)("td",{style:Vr.rightStyle,children:["GH\u20b5 ",t.cardetails.total]})]})]})})})}var Hr={textAlign:"right",fontSize:13.5},zr={textAlign:"left",fontSize:13.5},Yr={borderStyle:"solid",borderRightWidth:0,borderLeftWidth:0,borderTopWidth:0,borderBottomWidth:1,borderColor:"grey"},Vr={wrapper:{borderStyle:"solid",borderRightWidth:0,borderLeftWidth:0,borderTopWidth:1,borderBottomWidth:1,borderColor:"grey"},leftStyle:{textAlign:"left",fontSize:20},rightStyle:{textAlign:"right",fontSize:20,width:"50%"}},Kr={borderStyle:"solid",borderWidth:.5,borderColor:"#f1F1F1"};var Mr={borderColor:"grey",borderWidth:.1},qr={display:"flex",justifyContent:"center",padding:10,fontSize:20},Xr=function(e){var t=Object(l.g)().bookingId,r=Object(d.b)(),s=Object(d.c)((function(e){return e.booking}));return a.a.useEffect((function(){t&&r(Lr(t))}),[]),s.isBookingLoading,s.ACTION_TYPE,Object(n.jsx)(Ie.a,{fluid:!0,style:{padding:20},children:Object(n.jsxs)(Be.a,{children:[Object(n.jsxs)(Ne.a,{md:"6",sm:"12",style:Mr,children:[Object(n.jsx)(Be.a,{style:qr,children:"Reservation Summary"}),Object(n.jsx)(Wr,{item:s}),";"]}),Object(n.jsxs)(Ne.a,{style:Mr,children:[Object(n.jsx)(Be.a,{style:qr,children:"Payment Summary"}),Object(n.jsx)(Fr,{item:s}),";"]})]})})},Zr=r(150),Jr=r(153),$r=function(e){return{type:P,error:e}},Qr=function(e){return{type:D,error:e}},en=function(e){return function(t){return t({type:B}),Qe.a.post(Je.GET_PROFILE_URL,{id:e}).then((function(e){var r;"success"===e.data.status?t((r=e.data.customer,{type:N,customer:r})):t($r(e.data.message))})).catch((function(e){e.response?t($r(e.response.data.message)):e.request?t($r(e.request._response)):t($r(e.message))}))}},tn=function(e){return function(t){return t({type:G}),Qe.a.post(Je.UPDATE_LICENSE_URL,e).then((function(e){var r;"success"===e.data.status?t((r=e.data.message,{type:U,error:r})):t(Qr(e.data.message))})).catch((function(e){e.response?t(Qr(e.response.data.message)):e.request?t(Qr(e.request._response)):t(Qr(e.message))}))}};var rn={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},nn={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},sn={borderStyle:"solid",borderWidth:1,borderColor:"#c4c4c4"},an={backgroundColor:ct,padding:10},cn={margin:0,fontSize:"20",textAlign:"center"},on={padding:20,width:"100%"},ln={backgroundColor:ct,borderRadius:100,borderStyle:"none",marginBottom:10,paddingLeft:20},dn={width:"70%",backgroundColor:ot,borderRadius:100,height:40,borderStyle:"none",marginBottom:10},un={width:"100%",backgroundColor:ot,borderRadius:100,height:40,borderStyle:"none",marginBottom:10},jn=function(e){var t=Object(d.b)(),r=Object(d.c)((function(e){return e.authenticate})),s=Object(d.c)((function(e){return e.profile})),c=a.a.useState(""),o=Object(Re.a)(c,2),i=o[0],l=o[1],u=a.a.useState(""),b=Object(Re.a)(u,2),h=b[0],p=b[1],g=a.a.useState(""),O=Object(Re.a)(g,2),y=O[0],f=O[1],x=a.a.useState(null),m=Object(Re.a)(x,2),v=m[0],k=m[1];return a.a.useEffect((function(){t(en(r.customer_id))}),[]),s.isGetProfileLoading,s.ACTION_TYPE,Object(n.jsx)(Ie.a,{fluid:!0,style:nn,children:Object(n.jsxs)(Ne.a,{xl:"8",lg:"8",md:"10",style:sn,children:[Object(n.jsx)(Be.a,{style:Object(j.a)(Object(j.a)({},an),rn),children:Object(n.jsx)("h5",{style:cn,children:"Password Update"})}),Object(n.jsx)(Be.a,{style:Object(j.a)(Object(j.a)({},on),rn),children:Object(n.jsxs)(Pe.a,{children:[Object(n.jsx)(Zr.a,{children:Object(n.jsx)(Ge.a,{value:i,onChange:function(e){return l(e.target.value)},type:"password",placeholder:"Enter old Password",style:ln})}),Object(n.jsx)(Zr.a,{children:Object(n.jsx)(Ge.a,{value:h,onChange:function(e){return p(e.target.value)},type:"password",placeholder:"Enter new Password",style:ln})}),Object(n.jsx)("div",{children:r.changePasswordError}),Object(n.jsx)(Ue.a,{onClick:function(){console.log(r.customer.password),t(Xe("")),""!==i&&""!==h?i===r.customer.password?t(at(r.customer.email,h)):t(Xe("Passwords do not match")):t(Xe("Fields cannot be empty"))},style:un,children:r.isChangePasswordLoading?Object(n.jsx)(De.a,{color:"light"}):"Update"})]})}),Object(n.jsx)(Be.a,{style:Object(j.a)(Object(j.a)({},an),rn),children:Object(n.jsx)("h5",{style:cn,children:"Licence Update"})}),Object(n.jsx)(Be.a,{style:Object(j.a)(Object(j.a)({},on),rn),children:Object(n.jsxs)(Pe.a,{style:{display:"grid",placeItems:"center"},children:[Object(n.jsx)(Zr.a,{style:{width:"70%"},children:Object(n.jsx)(Ge.a,{value:y,onChange:function(e){return f(e.target.value)},type:"text",placeholder:"License ID",style:ln})}),Object(n.jsx)(Zr.a,{style:{width:"70%"},children:Object(n.jsx)(Jr.a,{onChange:function(e){return k(e.target.files[0])},type:"file",id:"exampleCustomFileBrowser",name:"customFile"})}),Object(n.jsx)("div",{children:s.updateLicenseError}),Object(n.jsx)(Ue.a,{onClick:function(){if(""!==y)if(null!==v){var e=new FormData;e.append("id",s.customer.id),e.append("license",y),e.append("licensepic",v,v.name),console.log(e),t(tn(e))}else t(Qr(" Please select your license image"));else t(Qr("License number cannot be empty"))},style:dn,children:s.isUpdateLicenseLoading?Object(n.jsx)(De.a,{color:"light"}):"Update"})]})})]})})};function bn(e){var t=e.item;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Jt.a,{striped:!0,borderless:!0,style:fn,children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:gn,children:"Reservation Type"}),Object(n.jsx)("td",{style:pn,children:vr(t.saveBooking.rtype)})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:gn,children:"Service Type"}),Object(n.jsx)("td",{style:pn,children:t.saveBooking.stype})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:gn,children:"Started Date and Time"}),Object(n.jsx)("td",{style:pn,children:t.saveBooking.starttime})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:gn,children:"End Date and Time"}),Object(n.jsx)("td",{style:pn,children:t.saveBooking.endtime})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:gn,children:"Pickup Location"}),Object(n.jsx)("td",{style:pn,children:t.saveBooking.pickup})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:gn,children:"Drop-off Location"}),Object(n.jsx)("td",{style:pn,children:t.saveBooking.dropoff})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:gn,children:"Distance"}),Object(n.jsx)("td",{style:pn,children:t.saveBooking.distance})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:gn,children:"Comment"}),Object(n.jsx)("td",{style:pn,children:t.saveBooking.comments})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:gn,children:"Selected Car"}),Object(n.jsx)("td",{style:pn,children:t.saveBooking.ccars[0].car})]})]})})})}function hn(e){var t=e.item;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Jt.a,{striped:!0,borderless:!0,style:fn,children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:gn,children:"Base Rate"}),Object(n.jsxs)("td",{style:pn,children:["GH\u20b5 ",t.saveBooking.ccars[0].price.base_rate]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:gn,children:"Cost (Base Rate without Tax * Number of Hours/days)"}),Object(n.jsxs)("td",{style:pn,children:["GH\u20b5 ",t.saveBooking.ccars[0].price.rate]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{style:gn,children:["NHIL (",t.saveBooking.ccars[0].price.nhil_value,"%)"]}),Object(n.jsxs)("td",{style:pn,children:["GH\u20b5 ",t.saveBooking.ccars[0].price.nhil]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{style:gn,children:["GetFund (",t.saveBooking.ccars[0].price.getfund_value,"%)"]}),Object(n.jsxs)("td",{style:pn,children:["GH\u20b5 ",t.saveBooking.ccars[0].price.getfund]})]}),Object(n.jsxs)("tr",{style:On,children:[Object(n.jsx)("td",{style:gn,children:"Total Cost (Cost+Nhil+GetFund)"}),Object(n.jsxs)("td",{style:pn,children:["GH\u20b5 ",t.saveBooking.ccars[0].price.rate]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{style:gn,children:["VAT(",t.saveBooking.ccars[0].price.vat_value,"% OF Total Cost)"]}),Object(n.jsxs)("td",{style:pn,children:["GH\u20b5 ",t.saveBooking.ccars[0].price.vat]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{style:gn,children:["Tourism (",t.saveBooking.ccars[0].price.tourism_value,"% of Total Cost)"]}),Object(n.jsxs)("td",{style:pn,children:["GH\u20b5 ",t.saveBooking.ccars[0].price.tourism]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:gn,children:"Driver's Allowance (Base rate per day)"}),Object(n.jsxs)("td",{style:pn,children:["GH\u20b5 ",t.saveBooking.ccars[0].price.base_driver_allowance]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:gn,children:"Driver's Allowance (Base rate * Number of days)"}),Object(n.jsxs)("td",{style:pn,children:["GH\u20b5 ",t.saveBooking.ccars[0].price.driver_allowance]})]}),Object(n.jsxs)("tr",{style:yn.wrapper,children:[Object(n.jsx)("td",{style:yn.leftStyle,children:"Total Cost"}),Object(n.jsxs)("td",{style:yn.rightStyle,children:["GH\u20b5 ",t.saveBooking.ccars[0].price.total]})]})]})})})}var pn={textAlign:"right",fontSize:13.5},gn={textAlign:"left",fontSize:13.5},On={borderStyle:"solid",borderRightWidth:0,borderLeftWidth:0,borderTopWidth:0,borderBottomWidth:1,borderColor:"grey"},yn={wrapper:{borderStyle:"solid",borderRightWidth:0,borderLeftWidth:0,borderTopWidth:1,borderBottomWidth:1,borderColor:"grey"},leftStyle:{textAlign:"left",fontSize:20},rightStyle:{textAlign:"right",fontSize:20,width:"50%"}},fn={borderStyle:"solid",borderWidth:.5,borderColor:"#f1F1F1"},xn=function(e){return{type:ae,error:e}},mn=function(e,t,r,n){return function(s){return s({type:ne}),Qe.a.post(Je.MAKE_PAYMENT_URL,{emailOrMobileNumber:xr,merchantKey:fr,amount:n,orderCode:e,description:"Invoice for your car rental",sendInvoice:!0,payOption:"SLYDEPAY",customerName:t,customerEmail:r}).then((function(e){var t,r,n;e.data.success?s((t=e.data.result.payToken,r=e.data.result.paymentCode,n=e.data.result.qrCodeUrl,{type:se,payToken:t,paymentCode:r,qrCodeUrl:n})):s(xn(e.data.errorMessage+" Error Code:"+e.data.errorCode))})).catch((function(e){e.response?s(xn(e.response.data.message)):e.request?s(xn(e.request._response)):s(xn(e.message))}))}};var vn={borderColor:"grey",borderWidth:.1},kn={display:"flex",justifyContent:"center",padding:10,fontSize:20},Cn={justifyContent:"space-around"},Sn={backgroundColor:"#CEAE57",borderWidth:0},En=function(e){var t=e.isGuest?"guest":"user",r=Object(d.b)(),s=Object(d.c)((function(e){return e.booking})),c=Object(d.c)((function(e){return e.payment})),o=Object(d.c)((function(e){return e.authenticate})),i=a.a.useState(""),l=Object(Re.a)(i,2),u=l[0],j=(l[1],a.a.useState("")),b=Object(Re.a)(j,2),h=b[0],p=(b[1],a.a.useState("")),g=Object(Re.a)(p,2),O=g[0],y=(g[1],a.a.useState("")),f=Object(Re.a)(y,2),x=f[0],m=(f[1],a.a.useState(!0)),v=Object(Re.a)(m,2),k=(v[0],v[1],a.a.useState(!1)),C=Object(Re.a)(k,2),S=(C[0],C[1],a.a.useState("Individual")),E=Object(Re.a)(S,2),_=E[0];return E[1],a.a.useEffect((function(){console.log(s.ACTION_TYPE),s.ACTION_TYPE===M&&(s.saveBooking.rtype===mr.FINANCE_LEASE?(alert("Booking Saved successfully!\nWara Drive will contact you shortly"),e.history.push("/".concat(t,"/my-booking-summary/")+s.bookingId)):r(mn(s.bookingId,o.customer.firstname,o.customer.email,s.saveBooking.ccars[0].price.total)))}),[s.ACTION_TYPE]),a.a.useEffect((function(){(console.log(c.ACTION_TYPE),c.ACTION_TYPE===se)&&window.open(c.payTokenUrl,"_blank").focus()}),[c.ACTION_TYPE]),Object(n.jsx)(Ie.a,{fluid:!0,style:{padding:20},children:Object(n.jsxs)(Be.a,{children:[Object(n.jsxs)(Ne.a,{md:"6",sm:"12",style:vn,children:[Object(n.jsx)(Be.a,{style:kn,children:"Reservation Summary"}),Object(n.jsx)(bn,{item:s})]}),Object(n.jsxs)(Ne.a,{style:vn,children:[Object(n.jsx)(Be.a,{style:kn,children:"Payment Summary"}),Object(n.jsx)(hn,{item:s}),Object(n.jsxs)(Be.a,{style:Cn,children:[Object(n.jsx)(Ue.a,{href:"/".concat(t,"/"),children:"Cancel Booking"}),Object(n.jsx)(Ue.a,{onClick:function(){r(function(e,t,r,n,s,a,c,o,i,l,d,u,j,b,h,p,g,O){return{type:$,firstname:e,lastname:t,email:r,phone:n,ctype:s,rtype:a,stype:c,starttime:o,endtime:i,pickup:l,pickupgps:d,dropoff:u,dropoffgps:j,distance:b,hours:h,comments:p,total_amt:g,ccars:O}}(u,h,x,O,_,null,null,null,null,null,null,null,null,null,null,null,null,null)),r(Ar(s.saveBooking))},style:Sn,children:s.isSaveBookingLoading||c.isMakePaymentLoading?Object(n.jsx)(De.a,{color:"light"}):"Proceed to Payment"})]})]})]})})};function _n(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"d-md-none",children:Object(n.jsx)(It,{})}),Object(n.jsx)(Ie.a,{fluid:!0,children:Object(n.jsxs)(Be.a,{children:[Object(n.jsx)(Ne.a,{className:"d-none d-md-block",md:"3",style:Tn,children:Object(n.jsx)(Dt,{})}),Object(n.jsx)(Ne.a,{md:"9",style:Ln,children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{path:"/user/my-bookings",component:Dr}),Object(n.jsx)(l.b,{path:"/user/my-booking-summary/:bookingId",component:Xr}),Object(n.jsx)(l.b,{path:"/user/book",component:_r}),Object(n.jsx)(l.b,{path:"/user/available-cars",component:dr}),Object(n.jsx)(l.b,{path:"/user/reservation-summary",component:En}),Object(n.jsx)(l.b,{path:"/user/profile",component:jn}),Object(n.jsx)(l.a,{to:"/user/my-bookings"})]})})]})})]})}var Tn={backgroundColor:ct},Ln={backgroundColor:"white"};function An(e){var t=Object(s.useState)(!1),r=Object(Re.a)(t,2),a=r[0],c=r[1];return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Et.a,{dark:!0,expand:"md",style:{backgroundColor:"#EF4B25"},children:[Object(n.jsx)(_t.a,{href:"/guest",children:"WARA DRIVE"}),Object(n.jsx)(Tt.a,{onClick:function(){return c(!a)}}),Object(n.jsx)(Lt.a,{isOpen:a,navbar:!0,children:Object(n.jsx)(At.a,{navbar:!0,children:Object(n.jsx)(Rt.a,{className:"mr-auto",children:Object(n.jsx)(wt.a,{href:"/auth",children:"HAVE AN ACCOUNT? SIGN IN NOW!"})})})})]})})}function Rn(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(An,{}),Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{path:"/guest/book",render:function(e){return Object(n.jsx)(_r,Object(j.a)(Object(j.a)({},e),{},{isGuest:!0}))}}),Object(n.jsx)(l.b,{path:"/guest/available-cars",render:function(e){return Object(n.jsx)(dr,Object(j.a)(Object(j.a)({},e),{},{isGuest:!0}))}}),Object(n.jsx)(l.b,{path:"/guest/reservation-summary",render:function(e){return Object(n.jsx)(En,Object(j.a)(Object(j.a)({},e),{},{isGuest:!0}))}}),Object(n.jsx)(l.b,{path:"/guest/my-booking-summary/:bookingId",render:function(e){return Object(n.jsx)(Xr,Object(j.a)(Object(j.a)({},e),{},{isGuest:!0}))}}),Object(n.jsx)(l.a,{to:"/guest/book"})]})]})}var wn=Object(i.a)();var In=function(){return Object(n.jsx)(d.a,{store:Le,children:Object(n.jsx)(Ae.a,{loading:null,persistor:Te,children:Object(n.jsx)(l.c,{history:wn,children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{path:"/auth",component:St}),Object(n.jsx)(l.b,{path:"/user",component:_n}),Object(n.jsx)(l.b,{path:"/guest",component:Rn}),Object(n.jsx)(l.a,{to:"/auth/login"})]})})})})},Bn=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,154)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),n(e),s(e),a(e),c(e)}))};o.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(In,{})}),document.getElementById("root")),Bn()},73:function(e,t,r){}},[[131,1,2]]]);
//# sourceMappingURL=main.3369e635.chunk.js.map